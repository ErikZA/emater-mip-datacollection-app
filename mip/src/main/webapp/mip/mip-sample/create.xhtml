<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">      

    <body>
        <ui:composition template="./../../main-template.xhtml">

            <ui:define name="content">                

                <b:form>
                    <b:container fluid="true">

                        <b:breadcrumbs>
                            <b:navLink icon-awesome="info-circle" value="Painel de Acompanhamento" outcome="/index.xhtml"/>

                            <f:facet name="first">
                                <b:iconAwesome value="info-circle" />
                                Manejo Integrado de Pragas
                            </f:facet> 

                            <b:navLink icon-awesome="globe" value="Gerenciamento de Anotação de Campo" outcome="/mip/mip-sample/index.xhtml"/>

                            <f:facet name="end">
                                Criar Nova Amostra
                            </f:facet> 
                        </b:breadcrumbs>                        

                        <b:panel collapsible="false" >

                            <f:facet name="heading" >
                                <h2>Gerenciamento de Anotação de Campo</h2>
                            </f:facet>

                            <b:panel look="success" collapsible="false" title="Criar Nova Amostra">

                                <b:carousel id="wizard" styleClass="wizardPseudoClass"
                                            startAnimation="false"
                                            showIndicators="true"
                                            wrap="false">

                                    <!--                                    <b:carouselItem>
                                    
                                                                            <b:panel title="Passo 1/5: Selecionar Unidade de Referência Já Adicionada à Pesquisa" look="primary" collapsible="false">
                                    
                                                                                <b:formGroup>
                                                                                    <b:selectOneMenu select2="true" required="true" required-message="Uma UR deve ser selecionada" value="#{mipSampleController.survey}" label="Unidade de Referência">
                                                                                        <f:selectItem itemLabel="(Identificação UR, Município, Produtor, Responsável Técnico)" itemValue="" />
                                                                                        <f:selectItems value="#{mipSampleController.readAllSurveysInSelectedHarvest()}" var="aSurvey" itemValue="#{aSurvey}" itemLabel="#{aSurvey.fieldName}, #{aSurvey.fieldCityName}, #{aSurvey.farmerString}, #{aSurvey.fieldSupervisorNames}" />
                                                                                    </b:selectOneMenu>
                                                                                    <b:message for="@previous" />
                                                                                </b:formGroup>              
                                    
                                    
                                                                            </b:panel>
                                    
                                                                        </b:carouselItem>-->

                                    <!--                                    <b:carouselItem>
                                    
                                                                            <b:panel title="Passo 2/5: Informar Dados da Amostragem" look="primary" collapsible="false">
                                    
                                                                                <b:formGroup>
                                                                                    <b:dateTimePicker value="#{mipSampleController.sampleDate}" icon-position="left" format="DD/MM/YYYY" label="Data da Coleta" show-date="true" show-time="false"></b:dateTimePicker>
                                                                                    <b:message for="@previous" ></b:message>                                        
                                                                                </b:formGroup>
                                    
                                                                                <b:formGroup>
                                                                                    <b:selectOneMenu select2="true" required="true" required-message="Deve ser selecionado um estádio" value="#{mipSampleController.growthPhase}" label="Estádio da Cultura">
                                                                                        <f:selectItem itemLabel="(Selecione um estádio)" itemValue="" />
                                                                                        <f:selectItems value="#{mipSampleController.readAllGrowthPhases()}" var="aGrowthPhase" itemValue="#{aGrowthPhase}" itemLabel="#{aGrowthPhase}" />
                                                                                    </b:selectOneMenu>
                                                                                    <b:message for="@previous" />
                                                                                </b:formGroup>  
                                    
                                                                                <b:formGroup>
                                                                                    <b:inputText label="% de Desfolha (em números inteiros)" value="#{mipSampleController.defoliation}">
                                                                                        <f:facet name="append">
                                                                                            <h:outputText value="%" />
                                                                                        </f:facet>
                                                                                    </b:inputText>
                                                                                    <b:message for="@previous" ></b:message>                                        
                                                                                </b:formGroup>
                                                                                
                                                                            </b:panel>
                                    
                                                                        </b:carouselItem>                                    -->

                                    <b:carouselItem>

                                        <b:panel title="Passo 3/5: Flutuação das Pragas" look="primary" collapsible="false">

                                            <b:dataTable value="#{mipSampleController.pestOccurrences}" var="aPestOccurrence">
                                                <b:dataTableColumn value="#{aPestOccurrence.pestUsualName}" label="Nome" />
                                                <b:dataTableColumn value="#{aPestOccurrence.pestScientificName}" label="Nome Científico" />
                                                <b:dataTableColumn value="#{aPestOccurrence.pestSizeName}" label="Tamanho" />
                                                <b:dataTableColumn label="Média Encontrada" >
                                                    <b:inputText placeholder="0,0" value="#{aPestOccurrence.value}"></b:inputText>
                                                </b:dataTableColumn>
                                            </b:dataTable>

                                            <b:commandButton look="success" value="Salvar Amostra" action="#{mipSampleController.create()}"></b:commandButton>

                                        </b:panel>

                                    </b:carouselItem>

                                    <b:carouselItem>

                                        <b:panel title="Passo 4/5: Doenças das Pragas" look="primary" collapsible="false">

<!--                                            <b:dataTable value="#{mipSampleController.pestOccurrences}" var="aPestOccurrence">
                                                <b:dataTableColumn value="#{aPestOccurrence.pestUsualName}" label="Nome" />
                                                <b:dataTableColumn value="#{aPestOccurrence.pestScientificName}" label="Nome Científico" />
                                                <b:dataTableColumn value="#{aPestOccurrence.pestSizeName}" label="Tamanho" />
                                                <b:dataTableColumn label="Média Encontrada" >
                                                    <b:inputText placeholder="0,0" value="#{aPestOccurrence.value}"></b:inputText>
                                                </b:dataTableColumn>
                                            </b:dataTable>

                                            <b:commandButton look="success" value="Salvar Amostra" action="#{mipSampleController.create()}"></b:commandButton>-->

                                        </b:panel>

                                    </b:carouselItem>

                                    <b:carouselItem>

                                        <b:panel title="Passo 5/5: Inimigos Naturais das Pragas" look="primary" collapsible="false">

                                        </b:panel>

                                    </b:carouselItem>


                                    <b:carouselControl direction="right" >
                                        <b:button value="Passo anterior"
                                                  onclick="$('.wizardPseudoClass').carousel('prev');$('.wizardPseudoClass').carousel('pause');"
                                                  look="info" />
                                    </b:carouselControl>

                                    <b:carouselControl direction="left">
                                        <b:button value="Próximo passo" style="position:absolute;right:0px"
                                                  onclick="$('.wizardPseudoClass').carousel('next');$('.wizardPseudoClass').carousel('pause');"
                                                  look="success" />
                                    </b:carouselControl>

                                </b:carousel>

                                <h:inputHidden value="#{mipSampleController.selectedHarvestId}" ></h:inputHidden>

                            </b:panel>
                        </b:panel>
                    </b:container>
                </b:form>
            </ui:define>
        </ui:composition>

    </body>
</html>

